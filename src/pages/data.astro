---
import Layout from '@/layouts/Layout.astro';
import { db, Iplog } from "astro:db";

const logs = await db.select().from(Iplog);
---

<Layout>
	<section class="h-svh flex flex-col items-center justify-center">
		<h1>Informaci√≥n</h1>

		<div class="relative overflow-x-auto shadow-md sm:rounded-lg">
			<table class="w-full text-sm text-left rtl:text-right text-neutral-500 dark:text-neutral-400">
				<thead class="text-xs text-neutral-700 uppercase bg-neutral-50 dark:bg-neutral-700 dark:text-neutral-400">
				<tr>
					<th scope="col" class="px-6 py-3">
						ID
					</th>
					<th scope="col" class="px-6 py-3">
						IP
					</th>
					<th scope="col" class="px-6 py-3">
						Pais
					</th>
					<th scope="col" class="px-6 py-3">
						Region
					</th>
					<th scope="col" class="px-6 py-3">
						Ciudad
					</th>
					<th scope="col" class="px-6 py-3">
						Latitud
					</th>
					<th scope="col" class="px-6 py-3">
						Longitud
					</th>
					<th scope="col" class="px-6 py-3">
						Zona
					</th>
				</tr>
				</thead>
				<tbody>
					{
						logs.map(({ id, ip, pais, region, ciudad, latitud, longitud, zona }) => (
							<tr class="odd:bg-white odd:dark:bg-neutral-900 even:bg-neutral-50 even:dark:bg-neutral-800 border-b dark:border-gray-700 border-gray-200">
					<th scope="row" class="px-6 py-4 font-medium text-neutral-900 whitespace-nowrap dark:text-white">
						{id}
					</th>
					<td class="px-6 py-4">
						{ip}
					</td>
					<td class="px-6 py-4">
						{pais}
					</td>
					<td class="px-6 py-4">
						{region}
					</td>
					<td class="px-6 py-4">
						{ciudad}
					</td>
					<td class="px-6 py-4">
						{latitud}
					</td>
					<td class="px-6 py-4">
						{longitud}
					</td>
					<td class="px-6 py-4">
						{zona}
					</td>
				</tr>
						))
					}
				</tbody>
			</table>
		</div>

	</section>
</Layout>
